# AUTOGENERATED! DO NOT EDIT! File to edit: ../../nbs/guides/999_Guides_Helpers.ipynb.

# %% auto 0
__all__ = []

# %% ../../nbs/guides/999_Guides_Helpers.ipynb 2
from typing import *

from ..testing import run_script_and_cancel

# %% ../../nbs/guides/999_Guides_Helpers.ipynb 3
async def _run_example_app(
    *, app_example: str, bootstrap_server: str, script_file: str, cmd: str
) -> Tuple[int, str]:
    server_url = bootstrap_server.split(":")[0]
    server_port = bootstrap_server.split(":")[1]
    exit_code, output = await run_script_and_cancel(
        script=app_example.replace(
            "<url_of_your_kafka_bootstrap_server>", server_url
        ).replace("<port_of_your_kafka_bootstrap_server>", server_port),
        script_file=script_file,
        cmd=cmd,
        cancel_after=5,
    )
    return exit_code, output.decode("UTF-8")
