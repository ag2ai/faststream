name: Issue Notifier

on:
  issues:
    types: [opened]

permissions:
  issues: read

jobs:
  notify:
    name: "Telegram notification"
    runs-on: ubuntu-latest
    steps:
      - name: Send Telegram notification for new issue
        uses: sehat1137/telegram-notifier@2c801ce602ef2ac132bafd19ad6dc4784bc4f561 # v1.2.3
        with:
          tg-bot-token: ${{ secrets.TELEGRAM_TOKEN }}
          tg-chat-id: ${{ secrets.TELEGRAM_TO }}
          github-token: ${{ secrets.GITHUB_TOKEN }}
      - name: Send Telegram notification to OSS board
        uses: sehat1137/telegram-notifier@2c801ce602ef2ac132bafd19ad6dc4784bc4f561 # v1.2.3
        with:
          tg-bot-token: ${{ secrets.TELEGRAM_TOKEN }}
          tg-chat-id: ${{ secrets.GFI_CHAT }}
          github-token: ${{ secrets.GITHUB_TOKEN }}
          trigger-labels: "good first issue"
