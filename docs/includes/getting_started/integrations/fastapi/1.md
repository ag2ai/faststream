=== "Kafka"
    ```python linenums="1" hl_lines="4 6 17-20 28-29"
    {!> docs_src/integrations/fastapi/base_kafka.py !}
    ```

=== "RabbitMQ"
    ```python linenums="1" hl_lines="4 6 17-20 28-29"
    {!> docs_src/integrations/fastapi/base_rabbit.py !}
    ```

=== "NATS"
    ```python linenums="1" hl_lines="4 6 17-20 28-29"
    {!> docs_src/integrations/fastapi/base_nats.py !}
    ```
